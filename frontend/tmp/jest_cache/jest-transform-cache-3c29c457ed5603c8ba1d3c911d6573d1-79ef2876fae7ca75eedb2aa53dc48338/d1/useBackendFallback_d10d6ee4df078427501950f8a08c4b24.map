{"version":3,"names":["_react","require","_regeneratorRuntime","r","t","e","Object","prototype","n","hasOwnProperty","o","Symbol","i","iterator","a","asyncIterator","u","toStringTag","c","defineProperty","value","enumerable","configurable","writable","h","Generator","create","Error","done","method","arg","delegate","d","f","sent","_sent","dispatchException","abrupt","s","type","Context","call","wrap","GeneratorFunction","GeneratorFunctionPrototype","l","p","getPrototypeOf","y","x","v","g","forEach","_invoke","AsyncIterator","_typeof","resolve","__await","then","TypeError","next","w","tryEntries","push","m","reset","isNaN","length","displayName","isGeneratorFunction","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","keys","unshift","pop","values","prev","charAt","slice","stop","rval","complete","finish","_catch","delegateYield","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","_arrayLikeToArray","toString","Array","from","test","isArray","asyncGeneratorStep","_asyncToGenerator","arguments","apply","_next","_throw","BACKEND_URL","backendMove","_x","_x2","_x3","_x4","_x5","_x6","_backendMove","_callee5","grid","width","height","direction","res","_callee5$","_context5","fetch","concat","headers","body","JSON","stringify","json","backendApplyFormula","_x7","_x8","_x9","_x0","_backendApplyFormula","_callee6","formula","_callee6$","_context6","backendCheckCompletion","_x1","_x10","_backendCheckCompletion","_callee7","target","_callee7$","_context7","completed","useBackendFallback","connectWalletFn","onchainFns","_useState","useState","_useState2","useBackend","setUseBackend","tryConnectWallet","useCallback","_callee","_callee$","_context","t0","move","_ref2","_callee2","_callee2$","_context2","_x11","_x12","_x13","_x14","_x15","_x16","applyFormula","_ref3","_callee3","_callee3$","_context3","_x17","_x18","_x19","_x20","checkCompletion","_ref4","_callee4","_callee4$","_context4","_x21","_x22"],"sources":["useBackendFallback.ts"],"sourcesContent":["import { useState, useCallback } from 'react';\n\nconst BACKEND_URL = 'http://localhost:5000'; // Change if deployed elsewhere\n\ntype Grid = number[][];\ntype Formula = { input: number; output: number };\n\ntype OnchainFns = {\n  move: (grid: Grid, width: number, height: number, x: number, y: number, direction: number) => Promise<Grid>;\n  applyFormula: (grid: Grid, width: number, height: number, formula: Formula) => Promise<Grid>;\n  checkCompletion: (grid: Grid, target: Grid) => Promise<boolean>;\n};\n\nasync function backendMove(\n  grid: Grid,\n  width: number,\n  height: number,\n  x: number,\n  y: number,\n  direction: number\n): Promise<Grid> {\n  const res = await fetch(`${BACKEND_URL}/move`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ grid, width, height, x, y, direction }),\n  });\n  return (await res.json()).grid;\n}\n\nasync function backendApplyFormula(\n  grid: Grid,\n  width: number,\n  height: number,\n  formula: Formula\n): Promise<Grid> {\n  const res = await fetch(`${BACKEND_URL}/apply_formula`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ grid, width, height, formula }),\n  });\n  return (await res.json()).grid;\n}\n\nasync function backendCheckCompletion(\n  grid: Grid,\n  target: Grid\n): Promise<boolean> {\n  const res = await fetch(`${BACKEND_URL}/check_completion`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ grid, target }),\n  });\n  return (await res.json()).completed;\n}\n\nexport function useBackendFallback(\n  connectWalletFn: () => Promise<void>,\n  onchainFns: OnchainFns\n) {\n  // onchainFns: { move, applyFormula, checkCompletion }\n  const [useBackend, setUseBackend] = useState(false);\n\n  // Try to connect wallet, fallback if fails\n  const tryConnectWallet = useCallback(async () => {\n    try {\n      await connectWalletFn();\n      setUseBackend(false);\n      return true;\n    } catch (e) {\n      setUseBackend(true);\n      return false;\n    }\n  }, [connectWalletFn]);\n\n  // Move\n  const move = useCallback(\n    async (grid: Grid, width: number, height: number, x: number, y: number, direction: number) => {\n      if (useBackend) {\n        return backendMove(grid, width, height, x, y, direction);\n      } else {\n        return onchainFns.move(grid, width, height, x, y, direction);\n      }\n    },\n    [useBackend, onchainFns]\n  );\n\n  // Apply formula\n  const applyFormula = useCallback(\n    async (grid: Grid, width: number, height: number, formula: Formula) => {\n      if (useBackend) {\n        return backendApplyFormula(grid, width, height, formula);\n      } else {\n        return onchainFns.applyFormula(grid, width, height, formula);\n      }\n    },\n    [useBackend, onchainFns]\n  );\n\n  // Check completion\n  const checkCompletion = useCallback(\n    async (grid: Grid, target: Grid) => {\n      if (useBackend) {\n        return backendCheckCompletion(grid, target);\n      } else {\n        return onchainFns.checkCompletion(grid, target);\n      }\n    },\n    [useBackend, onchainFns]\n  );\n\n  return {\n    useBackend,\n    tryConnectWallet,\n    move,\n    applyFormula,\n    checkCompletion,\n  };\n} "],"mappings":"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","ignoreList":[]}