fcafc98646239ff8f56f8fe6a0a758fe
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const react_hooks_1 = require("@testing-library/react-hooks");
const useStarknet_1 = require("../hooks/useStarknet");
describe('useStarknet (mock)', () => {
    it('returns mock account and contract in dev mode', () => {
        const { result } = (0, react_hooks_1.renderHook)(() => (0, useStarknet_1.useStarknet)());
        expect(result.current.account).toBeDefined();
        expect(result.current.account).toMatch(/^0x[a-fA-F0-9]{8,}/);
        expect(result.current.contract).toBeDefined();
        expect(typeof result.current.connectWallet).toBe('function');
        expect(typeof result.current.disconnectWallet).toBe('function');
    });
    it('simulates connect/disconnect events', async () => {
        const { result } = (0, react_hooks_1.renderHook)(() => (0, useStarknet_1.useStarknet)());
        await (0, react_hooks_1.act)(async () => {
            await result.current.connectWallet();
        });
        expect(result.current.account).toBeDefined();
        await (0, react_hooks_1.act)(async () => {
            await result.current.disconnectWallet();
        });
        expect(result.current.account).toBeNull();
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL3NheWFudGFucGFsMTAwL0Rlc2t0b3AvTXVtdS0tb25jaGFpbi1wdXp6bGUtZ2FtZS9mcm9udGVuZC9zcmMvX190ZXN0c19fL3VzZVN0YXJrbmV0Lm1vY2sudGVzdC50cyIsIm1hcHBpbmdzIjoiOztBQUFBLDhEQUErRDtBQUMvRCxzREFBbUQ7QUFFbkQsUUFBUSxDQUFDLG9CQUFvQixFQUFFLEdBQUcsRUFBRTtJQUNsQyxFQUFFLENBQUMsK0NBQStDLEVBQUUsR0FBRyxFQUFFO1FBQ3ZELE1BQU0sRUFBRSxNQUFNLEVBQUUsR0FBRyxJQUFBLHdCQUFVLEVBQUMsR0FBRyxFQUFFLENBQUMsSUFBQSx5QkFBVyxHQUFFLENBQUMsQ0FBQztRQUNuRCxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUM3QyxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxPQUFPLENBQUMsb0JBQW9CLENBQUMsQ0FBQztRQUM3RCxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUM5QyxNQUFNLENBQUMsT0FBTyxNQUFNLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUM3RCxNQUFNLENBQUMsT0FBTyxNQUFNLENBQUMsT0FBTyxDQUFDLGdCQUFnQixDQUFDLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQ2xFLENBQUMsQ0FBQyxDQUFDO0lBRUgsRUFBRSxDQUFDLHFDQUFxQyxFQUFFLEtBQUssSUFBSSxFQUFFO1FBQ25ELE1BQU0sRUFBRSxNQUFNLEVBQUUsR0FBRyxJQUFBLHdCQUFVLEVBQUMsR0FBRyxFQUFFLENBQUMsSUFBQSx5QkFBVyxHQUFFLENBQUMsQ0FBQztRQUNuRCxNQUFNLElBQUEsaUJBQUcsRUFBQyxLQUFLLElBQUksRUFBRTtZQUNuQixNQUFNLE1BQU0sQ0FBQyxPQUFPLENBQUMsYUFBYSxFQUFFLENBQUM7UUFDdkMsQ0FBQyxDQUFDLENBQUM7UUFDSCxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUM3QyxNQUFNLElBQUEsaUJBQUcsRUFBQyxLQUFLLElBQUksRUFBRTtZQUNuQixNQUFNLE1BQU0sQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztRQUMxQyxDQUFDLENBQUMsQ0FBQztRQUNILE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDO0lBQzVDLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL1VzZXJzL3NheWFudGFucGFsMTAwL0Rlc2t0b3AvTXVtdS0tb25jaGFpbi1wdXp6bGUtZ2FtZS9mcm9udGVuZC9zcmMvX190ZXN0c19fL3VzZVN0YXJrbmV0Lm1vY2sudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByZW5kZXJIb29rLCBhY3QgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0LWhvb2tzJztcbmltcG9ydCB7IHVzZVN0YXJrbmV0IH0gZnJvbSAnLi4vaG9va3MvdXNlU3RhcmtuZXQnO1xuXG5kZXNjcmliZSgndXNlU3RhcmtuZXQgKG1vY2spJywgKCkgPT4ge1xuICBpdCgncmV0dXJucyBtb2NrIGFjY291bnQgYW5kIGNvbnRyYWN0IGluIGRldiBtb2RlJywgKCkgPT4ge1xuICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZVN0YXJrbmV0KCkpO1xuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5hY2NvdW50KS50b0JlRGVmaW5lZCgpO1xuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5hY2NvdW50KS50b01hdGNoKC9eMHhbYS1mQS1GMC05XXs4LH0vKTtcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuY29udHJhY3QpLnRvQmVEZWZpbmVkKCk7XG4gICAgZXhwZWN0KHR5cGVvZiByZXN1bHQuY3VycmVudC5jb25uZWN0V2FsbGV0KS50b0JlKCdmdW5jdGlvbicpO1xuICAgIGV4cGVjdCh0eXBlb2YgcmVzdWx0LmN1cnJlbnQuZGlzY29ubmVjdFdhbGxldCkudG9CZSgnZnVuY3Rpb24nKTtcbiAgfSk7XG5cbiAgaXQoJ3NpbXVsYXRlcyBjb25uZWN0L2Rpc2Nvbm5lY3QgZXZlbnRzJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZVN0YXJrbmV0KCkpO1xuICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCByZXN1bHQuY3VycmVudC5jb25uZWN0V2FsbGV0KCk7XG4gICAgfSk7XG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmFjY291bnQpLnRvQmVEZWZpbmVkKCk7XG4gICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHJlc3VsdC5jdXJyZW50LmRpc2Nvbm5lY3RXYWxsZXQoKTtcbiAgICB9KTtcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuYWNjb3VudCkudG9CZU51bGwoKTtcbiAgfSk7XG59KTtcbiJdLCJ2ZXJzaW9uIjozfQ==