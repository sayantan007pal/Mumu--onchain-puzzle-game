{"version":3,"names":["_react","_interopRequireWildcard","require","_GameBoard","_interopRequireDefault","_PuzzleSelector","_PuzzleCreator","e","__esModule","t","WeakMap","r","n","o","i","f","__proto__","_typeof","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","a","_arrayLikeToArray","toString","slice","constructor","name","Array","from","test","length","l","Symbol","iterator","u","next","done","push","value","isArray","MOCK_PUZZLE","initialGrid","targetGrid","formulas","App","_useState","useState","_useState2","view","setView","_useState3","_useState4","selectedPuzzleId","setSelectedPuzzleId","_useState5","_useState6","puzzleData","setPuzzleData","_useState7","_useState8","showSuccessModal","setShowSuccessModal","_useState9","_useState0","error","setError","useEffect","fetch","concat","then","res","ok","Error","json","data","initial_grid","target_grid","err","console","handlePuzzleSelect","puzzleId","handlePuzzleSolved","setTimeout","createElement","className","onClick","role","style","color","marginBottom","Fragment","onSelectPuzzle","onSolve","_default","exports"],"sources":["App.tsx"],"sourcesContent":["// src/App.tsx\nimport React, { useState, useEffect } from 'react';\nimport GameBoard from './components/GameBoard';\nimport PuzzleSelector from './components/PuzzleSelector';\nimport PuzzleCreator from './components/PuzzleCreator';\nimport './styles/App.css';\n\nconst MOCK_PUZZLE = {\n  initialGrid: [[0, 1], [1, 0]],\n  targetGrid: [[1, 1], [1, 1]],\n  formulas: ['A+B'],\n};\n\ntype AppView = 'PUZZLE_SELECT' | 'PUZZLE_PLAY' | 'PUZZLE_CREATE';\n\nconst App: React.FC = () => {\n  const [view, setView] = useState<AppView>('PUZZLE_SELECT');\n  const [selectedPuzzleId, setSelectedPuzzleId] = useState<number | null>(1); // Default to puzzle 1 for dev\n  const [puzzleData, setPuzzleData] = useState<any>(null);\n  const [showSuccessModal, setShowSuccessModal] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  // Always use backend or mock data, with robust error handling\n  useEffect(() => {\n    if (selectedPuzzleId !== null) {\n      setError(null);\n      fetch(`http://localhost:5000/puzzle/${selectedPuzzleId}`)\n        .then(res => {\n          if (!res.ok) throw new Error('Backend error');\n          return res.json();\n        })\n        .then(data => {\n          setPuzzleData({\n            initialGrid: data.initial_grid,\n            targetGrid: data.target_grid,\n            formulas: data.formulas,\n          });\n          setView('PUZZLE_PLAY');\n        })\n        .catch((err) => {\n          console.error('Falling back to mock puzzle:', err);\n          setPuzzleData(MOCK_PUZZLE);\n          setView('PUZZLE_PLAY');\n          setError('Backend unavailable, using mock puzzle.');\n        });\n    }\n  }, [selectedPuzzleId]);\n\n  const handlePuzzleSelect = (puzzleId: number) => setSelectedPuzzleId(puzzleId);\n  const handlePuzzleSolved = () => {\n    setShowSuccessModal(true);\n    setTimeout(() => {\n      setShowSuccessModal(false);\n      setView('PUZZLE_SELECT');\n      setSelectedPuzzleId(1); // Always default to puzzle 1 for dev\n      setPuzzleData(null);\n    }, 3000);\n  };\n\n  return (\n    <div className=\"app-container\" data-testid=\"app-container\">\n      <header className=\"app-header\">\n        <div className=\"app-title\" onClick={() => setView('PUZZLE_SELECT')}>MuMu Game</div>\n        <nav className=\"app-nav\">\n          <button\n            className={view === 'PUZZLE_SELECT' ? 'active' : ''}\n            onClick={() => setView('PUZZLE_SELECT')}\n          >\n            Play\n          </button>\n          <button\n            className={view === 'PUZZLE_CREATE' ? 'active' : ''}\n            onClick={() => setView('PUZZLE_CREATE')}\n          >\n            Create\n          </button>\n        </nav>\n        <div className=\"app-toggles\">\n          <button data-testid=\"toggle-backend\" onClick={() => {}}>Backend/Mock</button>\n          <button data-testid=\"toggle-darkmode\" onClick={() => {}}>Dark Mode</button>\n        </div>\n      </header>\n      <main className=\"app-content\">\n        {error && (\n          <div role=\"alert\" style={{ color: 'red', marginBottom: 16 }}>{error}</div>\n        )}\n        {view === 'PUZZLE_SELECT' && (\n          <>\n            <PuzzleSelector onSelectPuzzle={handlePuzzleSelect} />\n            <div className=\"action-buttons\">\n              <button onClick={() => setView('PUZZLE_CREATE')}>Create Your Own Puzzle</button>\n            </div>\n          </>\n        )}\n        {view === 'PUZZLE_PLAY' && !puzzleData && (\n          <div className=\"loading\">Loading puzzle...</div>\n        )}\n        {view === 'PUZZLE_PLAY' && puzzleData && (\n          <GameBoard\n            puzzleId={selectedPuzzleId!}\n            initialGrid={puzzleData.initialGrid}\n            targetGrid={puzzleData.targetGrid}\n            formulas={puzzleData.formulas}\n            onSolve={handlePuzzleSolved}\n          />\n        )}\n        {view === 'PUZZLE_CREATE' && (\n          <>\n            <PuzzleCreator />\n            <div className=\"action-buttons\">\n              <button onClick={() => setView('PUZZLE_SELECT')}>Back to Puzzles</button>\n            </div>\n          </>\n        )}\n      </main>\n      <footer className=\"app-footer\">\n        <p>Built on Starknet â€¢ Â© 2025 MuMu Game</p>\n      </footer>\n      {showSuccessModal && (\n        <div className=\"success-modal\">\n          <div className=\"success-modal-content\">\n            <h2>ðŸŽ‰ Puzzle Solved! ðŸŽ‰</h2>\n            <p>Congratulations! You've solved the puzzle.</p>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]}